<button class="open-modal">Nova reserva</button>

<form class="pesquisar-reservas">
    <label>
        <span>Nome hospede</span>
        <input name="nome" placeholder="Digite o nome do hospede." />
    </label>
    <label>
        <span>Acomodação</span>
        <select name="acomodacao">
            <option value="">Selecione uma acomodação</option>
            <option value="Simple Flat super agradável">Simple Flat super agradável</option>
            <option value="Apartamento amplo proximo a praia do Bessa">Apartamento amplo proximo a praia do
                Bessa</option>
            <option value="Flat moderno com vista incrível">Flat moderno com vista incrível</option>
        </select>
    </label>
    <label>
        <span>Check-in</span>
        <input name="start" type="datetime-local" value="2025-02-19 14:00:00" required />
    </label>
    <label>
        <span>Check-in</span>
        <input name="end" type="datetime-local" value="2025-02-19 14:00:00" required />
    </label>
    <label title="Clique para pesquisar acomodações livre para reservas.">
        <span>&nbsp;</span>
        <button>Pesquisar</button>
    </label>
</form>


<div class="title">LISTA DE RESERVAS</div>

<div class="modal">
    <div class="header">
        <strong class="title">Cadastrar reservas</strong>
        <span class="material-icons close-modal">close</span>
    </div>
    <div class="content">
        <form class="cadastro-reservas">
            <label>
                <span>Nome</span>
                <input name="nome" required value="Wedson Santos" />
            </label>
            <label>
                <span>Telefone</span>
                <input name="telefone" type="tel" value="(82) 98176 - 1793" />
            </label>
            <label>
                <span>Acomodação</span>
                <select name="acomodacao">
                    <option value="">Selecione uma acomodação</option>
                    <option selected value="Simple Flat super agradável">Simple Flat super agradável</option>
                    <option value="Apartamento amplo proximo a praia do Bessa">Apartamento amplo proximo a praia do
                        Bessa</option>
                    <option value="Flat moderno com vista incrível">Flat moderno com vista incrível</option>
                </select>
            </label>
            <label>
                <span>Valor estádia</span>
                <input name="preco" type="number" value="1000" required />
            </label>
            <label>
                <span>Check-in</span>
                <input name="check_in" type="datetime-local" value="2025-02-19 14:00:00" required />
            </label>
            <label>
                <span>Check-in</span>
                <input name="check_out" type="datetime-local" value="2025-02-19 14:00:00" required />
            </label>
            <label>
                <span>Hospedes</span>
                <input name="hospedes" type="number" value="6" required />
            </label>
            <label>
                <span>&nbsp;</span>
                <button>Cadastrar</button>
            </label>
        </form>
    </div>
</div>

<div class="list">
    <table>
        <thead>
            <tr>
                <td width="3%"></td>
                <td width="12%">NOME</td>
                <td width="10%">TELEFONE</td>
                <td width="12%">ACOMODAÇÃO</td>
                <td width="7%">PREÇO</td>
                <td width="7%">CHECK-IN</td>
                <td width="7%">CHECK-OUT</td>
                <td width="7%">HOSPEDES</td>
                <td width="7%">DIAS</td>
                <td width="12%">SITUAÇÃO</td>
                <td width="12%">LIMPEZA</td>
            </tr>
        </thead>
        <tbody>
            {{#each data}}
            <tr>
                <td title="Clique para deletar a reserva">
                    <span id="{{ _id }}" class="material-icons reservas">delete</span>
                </td>
                <td>{{nome}}</td>
                <td>
                    <a href="https://wa.me/55{{ telefone }}" target="_blank"
                        title="Clique para acessar o whats app do hospede.">
                        {{telefone}}
                    </a>
                </td>
                </td>
                <td>{{acomodacao}}</td>
                <td>{{preco}}</td>
                <td>{{check_in}}</td>
                <td>{{check_out}}</td>
                <td>{{hospedes}}</td>
                <td>{{dias}}</td>
                <td class="{{ situacao }}">{{situacao}}</td>
                <td id="{{ _id }}" class="{{ limpeza }} limpeza" situacao="{{ limpeza }}"
                    title="Clique para alterar a status de limpeza.">
                    {{limpeza}}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div>


{{!--
<script>



    try {

        let data = await fetch('http://localhost:3000/api/reservas')
        data = await data.json();

        let tbody = document.querySelector('tbody');
        let tr = document.createElement('tr');
        let td = document.createElement('td');

        for (let i in data) {

            let span = document.createElement('span');
            span.innerText = 'delete';
            span.setAttribute('class', 'material-icons');
            span.setAttribute('id', data[0]._id);

            td.appendChild(span);
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].nome;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].telefone;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].acomodacao;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].preco;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].check_in;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].check_out;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].hospedes;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].dias;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].situacao;
            tr.appendChild(td);

            td = document.createElement('td');
            td.innerText = data[0].limpeza;
            td.setAttribute('class', 'limpeza');
            td.setAttribute('class', data[0].limpeza);
            tr.appendChild(td);

            tbody.appendChild(tr);

            fn_close_modal();

        } catch (e) {
            alert(e);
        }

</script> --}}